!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("hotspots",[],t):"object"==typeof exports?exports.hotspots=t():(e.KalturaPlayer=e.KalturaPlayer||{},e.KalturaPlayer.plugins=e.KalturaPlayer.plugins||{},e.KalturaPlayer.plugins.hotspots=t())}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=21)}([function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",function(){return o}),n.d(t,"__assign",function(){return i}),n.d(t,"__rest",function(){return a}),n.d(t,"__decorate",function(){return s}),n.d(t,"__param",function(){return u}),n.d(t,"__metadata",function(){return l}),n.d(t,"__awaiter",function(){return p}),n.d(t,"__generator",function(){return c}),n.d(t,"__exportStar",function(){return d}),n.d(t,"__values",function(){return f}),n.d(t,"__read",function(){return y}),n.d(t,"__spread",function(){return h}),n.d(t,"__await",function(){return _}),n.d(t,"__asyncGenerator",function(){return v}),n.d(t,"__asyncDelegator",function(){return g}),n.d(t,"__asyncValues",function(){return b}),n.d(t,"__makeTemplateObject",function(){return m}),n.d(t,"__importStar",function(){return O}),n.d(t,"__importDefault",function(){return w});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function l(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function p(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})}function c(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function f(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function y(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function h(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(y(arguments[t]));return e}function _(e){return this instanceof _?(this.v=e,this):new _(e)}function v(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise(function(n,r){i.push([e,t,n,r])>1||s(e,t)})})}function s(e,t){try{(n=o[e](t)).value instanceof _?Promise.resolve(n.value.v).then(u,l):p(i[0][2],n)}catch(e){p(i[0][3],e)}var n}function u(e){s("next",e)}function l(e){s("throw",e)}function p(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function g(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:_(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function b(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=f(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,o){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,o,(t=e[n](t)).done,t.value)})}}}function m(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function O(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function w(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o={},i=function(){function e(){}return e.registerType=function(e,t){o[e]=t},e.createObject=function(e){var t="";e instanceof r.KalturaObjectBase?t=e.getTypeName():"string"==typeof e&&(t=e);var n=t?o[t]:null;return n?new n:null},e}();t.KalturaTypesFactory=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(28),o=n(1),i=new(n(29).KalturaLogger)("KalturaObjectBase"),a=function(){function e(e){this._allowedEmptyArray=[],this._dependentProperties={},e&&Object.assign(this,e),void 0===this.relatedObjects&&(this.relatedObjects={})}return e.prototype.allowEmptyArray=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=this._getMetadata().properties,r=0,o=e;r<o.length;r++){var a=o[r],s=n[a];s?"a"!==s.type?i.warn("ignore property '"+a+"' flaged to allow empty array as it is not of type array (did you set the right property in method 'allowEmptyArray'?)"):this._allowedEmptyArray.push(a):i.warn("ignore property '"+a+"' flaged to allow empty array as it doesn't not exists on type (did you set the right property in method 'allowEmptyArray'?)")}return this},e.prototype.setData=function(e){return e&&e(this),this},e.prototype.getTypeName=function(){return this._getMetadata().properties.objectType.default},e.prototype._getMetadata=function(){return{properties:{relatedObjects:{type:"m",readOnly:!0,subTypeConstructor:null,subType:"KalturaListResponse"}}}},e.prototype.hasMetadataProperty=function(e){return!!this._getMetadata().properties[e]},e.prototype.toRequestObject=function(){var e=this,t=this._getMetadata(),n={};try{Object.keys(t.properties).forEach(function(r){var o=t.properties[r],i=e._createRequestPropertyValue(r,o);switch(i.status){case"exists":n[r]=i.value;break;case"removed":n[r+"__null"]=""}})}catch(e){throw i.warn(e.message),e}return n},e.prototype.fromResponseObject=function(e){var t=this,n=this._getMetadata();try{Object.keys(n.properties).forEach(function(r){var o=n.properties[r],i=t._parseResponseProperty(r,o,e);null!=i&&void 0!==i&&(t[r]=i)})}catch(e){throw i.warn(e.message),e}return{}},e.prototype._parseResponseProperty=function(e,t,n){var o,i=this,a=e?n[e]:n;if(void 0!==a)if(null===a)o=null;else switch(t.type){case"b":"boolean"==typeof a?o=a:a+""=="0"?o=!1:a+""=="1"&&(o=!0);break;case"s":o=a+"";break;case"n":case"en":o=1*a;break;case"es":o=null!=a?a.toString():void 0;break;case"o":var s=a.objectType;if(!s)throw new Error("Failed to create kaltura object for property '"+e+"' (type '"+t.subType+"'). provided response object is missing property 'objectType'.");if(!(o=this._createKalturaObject(s,t.subType)))throw new Error("Failed to create kaltura object of type '"+n.objectType+"' (fallback type '"+t.subType+"')");o.fromResponseObject(a);break;case"m":var u={};if(!(a instanceof Object))throw new Error("failed to parse property '"+e+". Expected type object, got type '"+typeof a);Object.keys(a).forEach(function(e){var n=a[e],r=i._createKalturaObject(n.objectType,t.subType);if(!n||!r)throw new Error("Failed to create kaltura object for type '"+t.subType+"'");r.fromResponseObject(n),u[e]=r}),o=u;break;case"a":if(!(a instanceof Array))throw new Error("failed to parse property '"+e+". Expected type array, got type '"+typeof a);var l=[];a.forEach(function(e){var n=i._createKalturaObject(e.objectType,t.subType);if(!n)throw new Error("Failed to create kaltura object for type '"+e.objectType+"' and for fallback type '"+t.subType+"'");n.fromResponseObject(e),l.push(n)}),o=l;break;case"d":if(!this._isNumeric(a))throw new Error("failed to parse property '"+e+". Expected type date, got type '"+typeof a);o=r.KalturaClientUtils.fromServerDate(1*a)}return o},e.prototype._isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},e.prototype._createKalturaObject=function(e,t){var n=null,r=!1;return e&&(n=o.KalturaTypesFactory.createObject(e)),!n&&t&&(r=!0,n=o.KalturaTypesFactory.createObject(t)),r&&n?i.warn("[kaltura-client]: Could not find object type '"+e+"', Falling back to '"+t+"' object type. (Did you remember to set your accepted object types in the request “config.acceptedTypes” attribute?)"):n||i.warn("[kaltura-client]: Could not find object type '"+e+"'. (Did you remember to set your accepted object types in the request “config.acceptedTypes” attribute?)"),n},e.prototype._createRequestPropertyValue=function(t,n){var o={status:"missing"};if("c"===n.type)n.default&&(o={status:"exists",value:n.default});else if(this._dependentProperties[t]){var i=this._dependentProperties[t];o={status:"exists",value:"{"+i.request+":result"+(i.targetPath?":"+i.targetPath:"")+"}"}}else if(!n.readOnly){var a=this[t];if(void 0!==a)if(null===a)o={status:"removed"};else switch(n.type){case"b":o={status:"exists",value:a};break;case"s":o={status:"exists",value:a+""};break;case"n":case"en":o={status:"exists",value:1*a};break;case"o":if(!(a instanceof e))throw new Error("failed to parse property. Expected '"+t+" to be kaltura object");o={status:"exists",value:a.toRequestObject()};break;case"a":if(!(a instanceof Array))throw new Error("failed to parse property. Expected '"+t+" to be Array");var s=[];if(a.forEach(function(t){t instanceof e&&s.push(t.toRequestObject())}),-1!==this._allowedEmptyArray.indexOf(t)||0!==s.length){if(s.length!==a.length)throw new Error("failed to parse array. Expected all '"+t+" items to be kaltura object");o={status:"exists",value:s}}break;case"m":if(!(a instanceof Object))throw new Error("failed to parse property. Expected '"+t+" to be kaltura object");var u=Object.keys(a);if(u.length>0){var l={};if(u.forEach(function(t){var n=a[t];n instanceof e&&(l[t]=n.toRequestObject())}),u.length!==Object.keys(l).length)throw new Error("failed to parse map. Expected all '"+t+" items to be kaltura object");o={status:"exists",value:l}}break;case"d":if(!(a instanceof Date))throw new Error("failed to parse property. Expected '"+t+" to be date");o={status:"exists",value:r.KalturaClientUtils.toServerDate(a)};break;case"es":o={status:"exists",value:"string"==typeof a?a:void 0};break;case"f":a instanceof FormData&&(o={status:"exists",value:a})}}return o},e.prototype.setDependency=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,r=e.length;n<r;n++){var o=e[n],i=o,a=i.property,s=i.request,u=i.targetPath;o instanceof Array&&(a=o[0],s=o[1],u=3===o.length?o[2]:null),s+=1,this._dependentProperties[a]={property:a,request:s,targetPath:u}}return this},e}();t.KalturaObjectBase=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){function t(n,r,o){var i=e.call(this,n)||this;return i.message=n,i.code=r,i.args=o,Object.setPrototypeOf(i,t.prototype),i}return r.__extends(t,e),t}(Error);t.KalturaAPIException=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){function t(n,r,o){var i=e.call(this,r)||this;return i.code=n,i.message=r,i.args=o,Object.setPrototypeOf(i,t.prototype),i}return r.__extends(t,e),t}(Error);t.KalturaClientException=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(16),i=n(10),a=n(3),s=n(12),u=n(11),l=function(e){function t(t,n){var r=n.responseType,o=n.responseSubType,i=n.responseConstructor,a=e.call(this,t)||this;return a.responseSubType=o,a.responseType=r,a._responseConstructor=i,a}return r.__extends(t,e),t.prototype.setCompletion=function(e){return this.callback=e,this},t.prototype._unwrapResponse=function(e){if(u.environment.response.nestedResponse){if(e&&e.hasOwnProperty("result"))return e.result.hasOwnProperty("error")?e.result.error:e.result;if(e&&e.hasOwnProperty("error"))return e.error}return e},t.prototype.handleResponse=function(t){var n,r;try{var i=this._unwrapResponse(t),s=null;i&&(s=i instanceof a.KalturaAPIException?i:"KalturaAPIException"===i.objectType?new a.KalturaAPIException(i.message,i.code,i.args):e.prototype._parseResponseProperty.call(this,"",{type:this.responseType,subType:this.responseSubType},i)),s||"v"===this.responseType?s instanceof a.KalturaAPIException?r=s:n=s:r=new a.KalturaAPIException("server response is undefined, expected '"+this.responseType+" / "+this.responseSubType+"'","client::response_type_error",null)}catch(e){r=new a.KalturaAPIException(e.message,"client::general_error",null)}var u=new o.KalturaResponse(n,r);if(this.callback)try{this.callback(u)}catch(e){}return u},t.prototype.setRequestOptions=function(e){return this.__requestOptions__=e instanceof s.KalturaRequestOptions?e:new s.KalturaRequestOptions(e),this},t.prototype.getRequestOptions=function(){return this.__requestOptions__},t.prototype.buildRequest=function(e){var t=this.__requestOptions__?this.__requestOptions__.toRequestObject():{},n=e?e.toRequestObject():{};return Object.assign({},n,t,this.toRequestObject())},t}(i.KalturaRequestBase);t.KalturaRequest=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this._executors=[],this._onCancel=e(this._onResolve.bind(this),this._onReject.bind(this),this)}return e.resolve=function(t){return new e(function(e){e(t)})},e.reject=function(t){return new e(function(e,n){n(t)})},e.prototype._onResolve=function(e){this._notifyExecutor(e)},e.prototype._onReject=function(e){this._notifyExecutor(e)},e.prototype._notifyExecutor=function(t){var n,r=this._executors.length>0?this._executors.splice(0,1)[0]:null;if(r)try{if(t instanceof Error?r.reject?n=r.reject(t):this._handleErrorOriginatedFromExecuter(t):r.resolve&&(n=r.resolve(t)),n instanceof e)return void n.then(this._onResolve.bind(this),this._onReject.bind(this));if(n instanceof Promise)return void n.then(this._onResolve.bind(this),this._onReject.bind(this));n=void 0===n?t:n,this._notifyExecutor(n)}catch(e){this._handleErrorOriginatedFromExecuter(e)}},e.prototype._handleErrorOriginatedFromExecuter=function(e){if(!(this._executors.length>0))throw e;this._notifyExecutor(e)},e.prototype.cancel=function(){this._onCancel&&this._onCancel()},e.prototype.then=function(e,t){return this._executors.push({resolve:e,reject:t}),this},e.prototype.catch=function(e){return this._executors.push({resolve:null,reject:e}),this},e}();t.CancelableAction=r},function(e,t,n){"use strict";n.r(t),n.d(t,"h",function(){return s}),n.d(t,"createElement",function(){return s}),n.d(t,"cloneElement",function(){return c}),n.d(t,"createRef",function(){return N}),n.d(t,"Component",function(){return F}),n.d(t,"render",function(){return I}),n.d(t,"rerender",function(){return h}),n.d(t,"options",function(){return o});var r=function(){},o={},i=[],a=[];function s(e,t){var n,s,u,l,p=a;for(l=arguments.length;l-- >2;)i.push(arguments[l]);for(t&&null!=t.children&&(i.length||i.push(t.children),delete t.children);i.length;)if((s=i.pop())&&void 0!==s.pop)for(l=s.length;l--;)i.push(s[l]);else"boolean"==typeof s&&(s=null),(u="function"!=typeof e)&&(null==s?s="":"number"==typeof s?s=String(s):"string"!=typeof s&&(u=!1)),u&&n?p[p.length-1]+=s:p===a?p=[s]:p.push(s),n=u;var c=new r;return c.nodeName=e,c.children=p,c.attributes=null==t?void 0:t,c.key=null==t?void 0:t.key,void 0!==o.vnode&&o.vnode(c),c}function u(e,t){for(var n in t)e[n]=t[n];return e}function l(e,t){null!=e&&("function"==typeof e?e(t):e.current=t)}var p="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function c(e,t){return s(e.nodeName,u(u({},e.attributes),t),arguments.length>2?[].slice.call(arguments,2):e.children)}var d=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,f=[];function y(e){!e._dirty&&(e._dirty=!0)&&1==f.push(e)&&(o.debounceRendering||p)(h)}function h(){for(var e;e=f.pop();)e._dirty&&q(e)}function _(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function v(e){var t=u({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(void 0!==n)for(var r in n)void 0===t[r]&&(t[r]=n[r]);return t}function g(e){var t=e.parentNode;t&&t.removeChild(e)}function b(e,t,n,r,o){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)l(n,null),l(r,e);else if("class"!==t||o)if("style"===t){if(r&&"string"!=typeof r&&"string"!=typeof n||(e.style.cssText=r||""),r&&"object"==typeof r){if("string"!=typeof n)for(var i in n)i in r||(e.style[i]="");for(var i in r)e.style[i]="number"==typeof r[i]&&!1===d.test(i)?r[i]+"px":r[i]}}else if("dangerouslySetInnerHTML"===t)r&&(e.innerHTML=r.__html||"");else if("o"==t[0]&&"n"==t[1]){var a=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),r?n||e.addEventListener(t,m,a):e.removeEventListener(t,m,a),(e._listeners||(e._listeners={}))[t]=r}else if("list"!==t&&"type"!==t&&!o&&t in e){try{e[t]=null==r?"":r}catch(e){}null!=r&&!1!==r||"spellcheck"==t||e.removeAttribute(t)}else{var s=o&&t!==(t=t.replace(/^xlink:?/,""));null==r||!1===r?s?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!=typeof r&&(s?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r):e.setAttribute(t,r))}else e.className=r||""}function m(e){return this._listeners[e.type](o.event&&o.event(e)||e)}var O=[],w=0,C=!1,P=!1;function T(){for(var e;e=O.shift();)o.afterMount&&o.afterMount(e),e.componentDidMount&&e.componentDidMount()}function j(e,t,n,r,o,i){w++||(C=null!=o&&void 0!==o.ownerSVGElement,P=null!=e&&!("__preactattr_"in e));var a=K(e,t,n,r,i);return o&&a.parentNode!==o&&o.appendChild(a),--w||(P=!1,i||T()),a}function K(e,t,n,r,o){var i=e,a=C;if(null!=t&&"boolean"!=typeof t||(t=""),"string"==typeof t||"number"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||o)?e.nodeValue!=t&&(e.nodeValue=t):(i=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(i,e),x(e,!0))),i.__preactattr_=!0,i;var s,u,l=t.nodeName;if("function"==typeof l)return function(e,t,n,r){var o=e&&e._component,i=o,a=e,s=o&&e._componentConstructor===t.nodeName,u=s,l=v(t);for(;o&&!u&&(o=o._parentComponent);)u=o.constructor===t.nodeName;o&&u&&(!r||o._component)?(k(o,l,3,n,r),e=o.base):(i&&!s&&(A(i),e=a=null),o=S(t.nodeName,l,n),e&&!o.nextBase&&(o.nextBase=e,a=null),k(o,l,1,n,r),e=o.base,a&&e!==a&&(a._component=null,x(a,!1)));return e}(e,t,n,r);if(C="svg"===l||"foreignObject"!==l&&C,l=String(l),(!e||!_(e,l))&&(s=l,(u=C?document.createElementNS("http://www.w3.org/2000/svg",s):document.createElement(s)).normalizedNodeName=s,i=u,e)){for(;e.firstChild;)i.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(i,e),x(e,!0)}var p=i.firstChild,c=i.__preactattr_,d=t.children;if(null==c){c=i.__preactattr_={};for(var f=i.attributes,y=f.length;y--;)c[f[y].name]=f[y].value}return!P&&d&&1===d.length&&"string"==typeof d[0]&&null!=p&&void 0!==p.splitText&&null==p.nextSibling?p.nodeValue!=d[0]&&(p.nodeValue=d[0]):(d&&d.length||null!=p)&&function(e,t,n,r,o){var i,a,s,u,l,p=e.childNodes,c=[],d={},f=0,y=0,h=p.length,v=0,b=t?t.length:0;if(0!==h)for(var m=0;m<h;m++){var O=p[m],w=O.__preactattr_,C=b&&w?O._component?O._component.__key:w.key:null;null!=C?(f++,d[C]=O):(w||(void 0!==O.splitText?!o||O.nodeValue.trim():o))&&(c[v++]=O)}if(0!==b)for(var m=0;m<b;m++){u=t[m],l=null;var C=u.key;if(null!=C)f&&void 0!==d[C]&&(l=d[C],d[C]=void 0,f--);else if(y<v)for(i=y;i<v;i++)if(void 0!==c[i]&&(P=a=c[i],j=o,"string"==typeof(T=u)||"number"==typeof T?void 0!==P.splitText:"string"==typeof T.nodeName?!P._componentConstructor&&_(P,T.nodeName):j||P._componentConstructor===T.nodeName)){l=a,c[i]=void 0,i===v-1&&v--,i===y&&y++;break}l=K(l,u,n,r),s=p[m],l&&l!==e&&l!==s&&(null==s?e.appendChild(l):l===s.nextSibling?g(s):e.insertBefore(l,s))}var P,T,j;if(f)for(var m in d)void 0!==d[m]&&x(d[m],!1);for(;y<=v;)void 0!==(l=c[v--])&&x(l,!1)}(i,d,n,r,P||null!=c.dangerouslySetInnerHTML),function(e,t,n){var r;for(r in n)t&&null!=t[r]||null==n[r]||b(e,r,n[r],n[r]=void 0,C);for(r in t)"children"===r||"innerHTML"===r||r in n&&t[r]===("value"===r||"checked"===r?e[r]:n[r])||b(e,r,n[r],n[r]=t[r],C)}(i,t.attributes,c),C=a,i}function x(e,t){var n=e._component;n?A(n):(null!=e.__preactattr_&&l(e.__preactattr_.ref,null),!1!==t&&null!=e.__preactattr_||g(e),E(e))}function E(e){for(e=e.lastChild;e;){var t=e.previousSibling;x(e,!0),e=t}}var R=[];function S(e,t,n){var r,o=R.length;for(e.prototype&&e.prototype.render?(r=new e(t,n),F.call(r,t,n)):((r=new F(t,n)).constructor=e,r.render=M);o--;)if(R[o].constructor===e)return r.nextBase=R[o].nextBase,R.splice(o,1),r;return r}function M(e,t,n){return this.constructor(e,n)}function k(e,t,n,r,i){e._disable||(e._disable=!0,e.__ref=t.ref,e.__key=t.key,delete t.ref,delete t.key,void 0===e.constructor.getDerivedStateFromProps&&(!e.base||i?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,r)),r&&r!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=r),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,0!==n&&(1!==n&&!1===o.syncComponentUpdates&&e.base?y(e):q(e,1,i)),l(e.__ref,e))}function q(e,t,n,r){if(!e._disable){var i,a,s,l=e.props,p=e.state,c=e.context,d=e.prevProps||l,f=e.prevState||p,y=e.prevContext||c,h=e.base,_=e.nextBase,g=h||_,b=e._component,m=!1,C=y;if(e.constructor.getDerivedStateFromProps&&(p=u(u({},p),e.constructor.getDerivedStateFromProps(l,p)),e.state=p),h&&(e.props=d,e.state=f,e.context=y,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(l,p,c)?m=!0:e.componentWillUpdate&&e.componentWillUpdate(l,p,c),e.props=l,e.state=p,e.context=c),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!m){i=e.render(l,p,c),e.getChildContext&&(c=u(u({},c),e.getChildContext())),h&&e.getSnapshotBeforeUpdate&&(C=e.getSnapshotBeforeUpdate(d,f));var P,K,E=i&&i.nodeName;if("function"==typeof E){var R=v(i);(a=b)&&a.constructor===E&&R.key==a.__key?k(a,R,1,c,!1):(P=a,e._component=a=S(E,R,c),a.nextBase=a.nextBase||_,a._parentComponent=e,k(a,R,0,c,!1),q(a,1,n,!0)),K=a.base}else s=g,(P=b)&&(s=e._component=null),(g||1===t)&&(s&&(s._component=null),K=j(s,i,c,n||!h,g&&g.parentNode,!0));if(g&&K!==g&&a!==b){var M=g.parentNode;M&&K!==M&&(M.replaceChild(K,g),P||(g._component=null,x(g,!1)))}if(P&&A(P),e.base=K,K&&!r){for(var F=e,I=e;I=I._parentComponent;)(F=I).base=K;K._component=F,K._componentConstructor=F.constructor}}for(!h||n?O.push(e):m||(e.componentDidUpdate&&e.componentDidUpdate(d,f,C),o.afterUpdate&&o.afterUpdate(e));e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);w||r||T()}}function A(e){o.beforeUnmount&&o.beforeUnmount(e);var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?A(n):t&&(null!=t.__preactattr_&&l(t.__preactattr_.ref,null),e.nextBase=t,g(t),R.push(e),E(t)),l(e.__ref,null)}function F(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{},this._renderCallbacks=[]}function I(e,t,n){return j(n,e,{},!1,t,!1)}function N(){return{}}u(F.prototype,{setState:function(e,t){this.prevState||(this.prevState=this.state),this.state=u(u({},this.state),"function"==typeof e?e(this.state,this.props):e),t&&this._renderCallbacks.push(t),y(this)},forceUpdate:function(e){e&&this._renderCallbacks.push(e),q(this,2)},render:function(){}});var L={h:s,createElement:s,cloneElement:c,createRef:N,Component:F,render:I,rerender:h,options:o};t.default=L},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),o=n(3),i=n(4),a=n(11);function s(e,t){var n=(e.getNetworkTag()||"").trim(),r=(t.clientTag||"").trim()||"ng-app";return n&&n.length?r+"_"+n:r}function u(e,t){var n,r=[];for(n in e)if(e.hasOwnProperty(n)){var o=t?t+"["+n+"]":n,i=e[n];r.push(null!==i&&"object"==typeof i?u(i,o):encodeURIComponent(o)+"="+encodeURIComponent(i))}return r.join("&")}t.createEndpoint=function(e,t,n,r){var o=t.endpointUrl,i=s(e,t),a=o+"/api_v3/service/"+n;return r&&(a+="/action/"+r),i&&(a+="?"+u({clientTag:i})),a},t.createClientTag=s,t.buildQuerystring=u,t.getHeaders=function(){return{Accept:"application/json","Content-Type":"application/json"}},t.prepareParameters=function(e,t,n){return Object.assign({},e.buildRequest(n),{apiVersion:a.environment.request.apiVersion,format:1})},t.createCancelableAction=function(e){return new r.CancelableAction(function(t,n){var r=new XMLHttpRequest,a=!1;return r.onreadystatechange=function(){if(4===r.readyState){if(a)return;a=!0;var e=void 0;try{e=200===r.status?JSON.parse(r.response):new i.KalturaClientException("client::requre-failure",r.responseText||"failed to transmit request")}catch(t){e=new Error(r.responseText)}e instanceof Error||e instanceof o.KalturaAPIException?n(e):t(e)}},r.open("POST",e.endpoint),e.headers&&Object.keys(e.headers).forEach(function(t){var n=e.headers[t];r.setRequestHeader(t,n)}),r.send(JSON.stringify(e.body)),function(){a||(a=!0,r.abort())}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.falseValue=0]="falseValue",e[e.nullValue=-1]="nullValue",e[e.trueValue=1]="trueValue"}(t.KalturaNullableBoolean||(t.KalturaNullableBoolean={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){function t(t){return e.call(this,t)||this}return r.__extends(t,e),t.prototype.setNetworkTag=function(e){return!e||e.length>10?console.warn("cannot set network tag longer than 10 characters. ignoring tag '"+e):this._networkTag=e,this},t.prototype.getNetworkTag=function(){return this._networkTag},t}(n(2).KalturaObjectBase);t.KalturaRequestBase=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.environment={request:{apiVersion:"14.16.0",avoidQueryString:!1,fileFormatValue:1},response:{nestedResponse:!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(30),i=function(e){function t(t){var n=e.call(this,t)||this;return void 0===n.acceptedTypes&&(n.acceptedTypes=[]),n}return r.__extends(t,e),t.prototype._getMetadata=function(){var t=e.prototype._getMetadata.call(this);return Object.assign(t.properties,{partnerId:{type:"n"},ks:{type:"s"},responseProfile:{type:"o",subTypeConstructor:o.KalturaBaseResponseProfile,subType:"KalturaBaseResponseProfile"}}),t},t}(n(2).KalturaObjectBase);t.KalturaRequestOptions=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ad="adCuePoint.Ad",e.annotation="annotation.Annotation",e.code="codeCuePoint.Code",e.event="eventCuePoint.Event",e.quizAnswer="quiz.QUIZ_ANSWER",e.quizQuestion="quiz.QUIZ_QUESTION",e.thumb="thumbCuePoint.Thumb"}(t.KalturaCuePointType||(t.KalturaCuePointType={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(10),i=n(15),a=n(3),s=n(11),u=function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e.call(this,{})||this;return r.requests=[],r.requests=t,r}return r.__extends(t,e),t.prototype.buildRequest=function(t){for(var n=e.prototype.toRequestObject.call(this),r=0,o=this.requests.length;r<o;r++)n[r]=this.requests[r].buildRequest(t);return n},t.prototype._getMetadata=function(){var t=e.prototype._getMetadata.call(this);return Object.assign(t.properties,{service:{default:"multirequest",type:"c"}}),t},t.prototype._unwrapResponse=function(e){if(s.environment.response.nestedResponse){if(e&&e.hasOwnProperty("result"))return e.result;if(e&&e.hasOwnProperty("error"))return e.error}return e},t.prototype.setCompletion=function(e){return this.callback=e,this},t.prototype.handleResponse=function(e){var t=[],n=this._unwrapResponse(e);if(n&&n instanceof Array&&n.length===this.requests.length){for(s=0,u=this.requests.length;s<u;s++){var r=n[s];t.push(this.requests[s].handleResponse(r))}if(this.callback)try{this.callback(new i.KalturaMultiResponse(t))}catch(e){}}else for(var o=new a.KalturaAPIException("server response is invalid, expected array of "+this.requests.length,"client::response_type_error",null),s=0,u=this.requests.length;s<u;s++)t.push(this.requests[s].handleResponse(o));return new i.KalturaMultiResponse(t)},t}(o.KalturaRequestBase);t.KalturaMultiRequest=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){function t(t){var n=this.constructor;void 0===t&&(t=[]);var r=e.call(this)||this;return n&&Object.setPrototypeOf(r,n.prototype),t&&t.length>0&&r.push.apply(r,t),r}return r.__extends(t,e),t.prototype.hasErrors=function(){return this.filter(function(e){return e.error}).length>0},t.prototype.getFirstError=function(){for(var e=null,t=0;t<this.length&&!(e=this[t].error);t++);return e},t}(Array);t.KalturaMultiResponse=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){this.result=e,this.error=t}}();t.KalturaResponse=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){function t(t,n){var r=n.responseType,o=n.responseSubType,i=n.responseConstructor,a=e.call(this,t,{responseType:r,responseSubType:o,responseConstructor:i})||this;return a.uploadedFileSize=0,a.uploadedFileSize=t.uploadedFileSize,a}return r.__extends(t,e),t.prototype.setProgress=function(e){return this._progressCallback=e,this},t.prototype._getProgressCallback=function(){return this._progressCallback},t.prototype.supportChunkUpload=function(){var e=this._getMetadata().properties;return!!this._responseConstructor&&(new this._responseConstructor).hasMetadataProperty("uploadedFileSize")&&!!e.resume&&!!e.resumeAt&&!!e.finalChunk},t.prototype.getFileInfo=function(){var e=this._getMetadata().properties,t=Object.keys(e).find(function(t){return"f"===e[t].type});return t?{propertyName:t,file:this[t]}:null},t.prototype.toRequestObject=function(){var t=e.prototype.toRequestObject.call(this),n=this.getFileInfo().propertyName;return n&&delete t[n],t},t}(n(5).KalturaRequest);t.KalturaUploadRequest=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(1),i=n(13),a=n(19),s=n(9),u=function(e){function t(t){return e.call(this,t)||this}return r.__extends(t,e),t.prototype._getMetadata=function(){var t=e.prototype._getMetadata.call(this);return Object.assign(t.properties,{objectType:{type:"c",default:"KalturaCuePoint"},id:{type:"s",readOnly:!0},cuePointType:{type:"es",readOnly:!0,subTypeConstructor:i.KalturaCuePointType,subType:"KalturaCuePointType"},status:{type:"en",readOnly:!0,subTypeConstructor:a.KalturaCuePointStatus,subType:"KalturaCuePointStatus"},entryId:{type:"s"},partnerId:{type:"n",readOnly:!0},createdAt:{type:"d",readOnly:!0},updatedAt:{type:"d",readOnly:!0},triggeredAt:{type:"d"},tags:{type:"s"},startTime:{type:"n"},userId:{type:"s",readOnly:!0},partnerData:{type:"s"},partnerSortValue:{type:"n"},forceStop:{type:"en",subTypeConstructor:s.KalturaNullableBoolean,subType:"KalturaNullableBoolean"},thumbOffset:{type:"n"},systemName:{type:"s"},isMomentary:{type:"b",readOnly:!0},copiedFrom:{type:"s",readOnly:!0}}),t},t}(n(2).KalturaObjectBase);t.KalturaCuePoint=u,o.KalturaTypesFactory.registerType("KalturaCuePoint",u)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.deleted=2]="deleted",e[e.handled=3]="handled",e[e.pending=4]="pending",e[e.ready=1]="ready"}(t.KalturaCuePointStatus||(t.KalturaCuePointStatus={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(1),i=n(9),a=function(e){function t(t){return e.call(this,t)||this}return r.__extends(t,e),t.prototype._getMetadata=function(){var t=e.prototype._getMetadata.call(this);return Object.assign(t.properties,{objectType:{type:"c",default:"KalturaCuePointFilter"},freeText:{type:"s"},userIdEqualCurrent:{type:"en",subTypeConstructor:i.KalturaNullableBoolean,subType:"KalturaNullableBoolean"},userIdCurrent:{type:"en",subTypeConstructor:i.KalturaNullableBoolean,subType:"KalturaNullableBoolean"}}),t},t}(n(40).KalturaCuePointBaseFilter);t.KalturaCuePointFilter=a,o.KalturaTypesFactory.registerType("KalturaCuePointFilter",a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(22)},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),s=n(23),u=n(26),l=n(37),p=n(20),c=n(13),d=n(46),f=n(47),y=n(48),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._overlay=null,t._hotspots=[],t._kalturaClient=new u.KalturaClient({clientTag:"playkit-js-ovp-plugins",endpointUrl:t.getServiceUrl()}),t._loadCuePoints=function(){t._kalturaClient.request(new l.CuePointListAction({filter:new p.KalturaCuePointFilter({entryIdEqual:t.getEntryId(),cuePointTypeEqual:c.KalturaCuePointType.annotation,tagsLike:"hotspots"})}).setRequestOptions({ks:t.getKS(),partnerId:t.getPartnerId(),acceptedTypes:[f.KalturaAnnotation]})).then(function(e){e&&(t._hotspots=d.convertToHotspots(e),t._overlay&&t._overlay.rebuild())},function(e){console.warn("failed to load hotspots",e)})},t._renderRoot=function(e,n){var r=i({},n,{hotspots:t._hotspots,onResize:t._onRootResized.bind(t),getPlayerSize:t._getPlayerSize.bind(t),getVideoSize:t._getVideoSize.bind(t),pauseVideo:t._pauseVideo.bind(t),seekTo:t._seekTo.bind(t),sendAnalytics:t._sendAnalytics.bind(t)});return a.h(s.default,i({},r,{ref:e,key:"stage"}))},t}return o(t,e),t.prototype._onAddBindings=function(e){var t=this;this.eventManager.listenOnce(this.player,this.player.Event.MEDIA_LOADED,function(){t._loadCuePoints()})},t.prototype._onAddOverlays=function(e){this._overlay=e.add(new y.OverlayUI({mode:y.OverlayUIModes.FirstPlay,renderer:this._renderRoot}))},t.prototype._onInitMembers=function(){this._overlay=null,this._hotspots=[]},t.prototype._getPlayerSize=function(){return this.player.dimensions},t.prototype._getVideoSize=function(){var e=this.player.getActiveTracks().video;return e?{width:e.width,height:e.height}:{width:0,height:0}},t.prototype._pauseVideo=function(){this.player.pause()},t.prototype._onResetState=function(){},t.prototype._seekTo=function(e){this.player.currentTime=e},t.prototype._onRootResized=function(){this._overlay&&this._overlay.rebuild()},t.defaultConfig={},t}(y.OVPBasePlugin);t.HotspotsPlugin=h,KalturaPlayer.core.registerPlugin("hotspots",h)},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),s=n(24),u=n(25),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.engine=null,t.initialState={playerSize:t.props.getPlayerSize(),videoSize:t.props.getVideoSize(),visibleHotspots:[]},t.state=i({},t.initialState),t.handleResize=function(){var e=t.props,n=e.getPlayerSize,r=e.getVideoSize,o=e.onResize;t.props.shouldHandleResize&&t.setState({playerSize:n(),videoSize:r()},function(){t.engine&&(t.engine.updateLayout(t.state.playerSize,t.state.videoSize),t.syncVisibleHotspots(!0)),o()})},t.reset=function(){t.engine=null,t.setState(i({},t.initialState))},t.renderHotspots=function(e){if(!e)return null;var n=t.props,r=n.seekTo,o=n.pauseVideo,i=n.sendAnalytics;return e.map(function(e){return a.h(s.default,{pauseVideo:o,seekTo:r,key:e.id,visible:!0,hotspot:e,sendAnalytics:i})})},t}return o(t,e),t.prototype.componentDidUpdate=function(e,t,n){e.hotspots!==this.props.hotspots&&this._createEngine(),e.currentTime!==this.props.currentTime&&this.syncVisibleHotspots(),e.shouldHandleResize!==this.props.shouldHandleResize&&this.handleResize()},t.prototype._createEngine=function(){var e=this.props.hotspots;e&&0!==e.length?(this.engine=new u.CuepointLayoutEngine(e),this.engine.updateLayout(this.state.playerSize,this.state.videoSize)):this.engine=null},t.prototype.componentDidMount=function(){this.reset(),this._createEngine()},t.prototype.syncVisibleHotspots=function(e){var t=this;void 0===e&&(e=!1);var n=this.props.currentTime;this.setState(function(r){if(!t.engine)return{visibleHotspots:[]};var o=t.engine.updateTime(n,e);if(o.snapshot)return{visibleHotspots:o.snapshot};if(!o.delta)return{visibleHotspots:[]};var i=o.delta,a=i.show,s=i.hide;if(0!==a.length||0!==s.length){var u=r.visibleHotspots;return a.forEach(function(e){-1===u.indexOf(e)&&u.push(e)}),s.forEach(function(e){var t=u.indexOf(e);-1!==t&&u.splice(t,1)}),{visibleHotspots:u}}})},t.prototype.render=function(){var e=this.state.visibleHotspots,t=this.renderHotspots(e);return a.h("div",{style:{position:"absolute",display:"block",overflow:"visible",top:0,left:0,width:0,height:0}},t)},t}(a.Component);t.default=l},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),s={position:"absolute",display:"table",boxSizing:"border-box",outline:"none"},u={position:"relative",width:"100%",height:"100%",appearance:"none",border:"none",display:"table-cell",verticalAlign:"middle",textAlign:"center",cursor:"pointer",wordBreak:"break-all",textRendering:"geometricPrecision"},l={styles:{}};function p(e){return e.match(/^https?:\/\//i)||(e="http://"+e),e}var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={disableClick:!0,isReady:!1},t.isClickable=function(){var e=t.props.hotspot.onClick;if(!e)return!1;switch(e.type){case"jumpToTime":return void 0!==e.jumpToTime;case"openUrl":case"openUrlInNewTab":return!!e.url;default:return!1}},t.handleClick=function(){var e=t.props.hotspot,n=t.state.disableClick;if(e.onClick&&!n)switch(e.onClick.type){case"jumpToTime":if(void 0===e.onClick.jumpToTime)return;t.props.seekTo(e.onClick.jumpToTime/1e3);break;case"openUrl":if(!e.onClick.url)return;var r=p(e.onClick.url);window.open(r,"_top"),t.props.sendAnalytics({eventNumber:47,target:r,hotspotId:e.id});break;case"openUrlInNewTab":if(!e.onClick.url)return;t.props.pauseVideo();r=p(e.onClick.url);try{window.open(r,"_blank"),t.props.sendAnalytics({eventNumber:47,target:r,hotspotId:e.id})}catch(e){}}},t}return o(t,e),t.prototype.componentDidMount=function(){var e=this.props.hotspot;if(e&&e.onClick){var t=e.onClick,n=t.type,r=t.url;!n||!r||0==n.length||r.length;this.setState({isReady:!0,disableClick:!this.isClickable()})}else this.setState({isReady:!0})},t.prototype.render=function(){var e=this.props.hotspot,t=e.layout,n=e.label,r=this.state,o=r.isReady,l=r.disableClick;if(!o||!this.props.visible)return null;var p=i({},s,{top:t.y,left:t.x,height:t.height,width:t.width}),c=i({},u,e.styles,{cursor:l?"default":"pointer"});return a.h("div",{onClick:this.handleClick,style:p},a.h("div",{style:c},n))},t.defaultProps=l,t}(a.Component);t.default=c},function(e,t,n){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=!1,o="";function i(e){o=e||"",r=!0}t.enableLog=i,t.log=function(e,t,n){for(var i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a];r&&console[e].apply(console,["["+o+"] ["+e+"]"+(t?" ["+t+"]":"")+" : "+n].concat(i))},t.enableLogIfNeeded=function(e){try{-1!==document.URL.indexOf("debugKalturaPlayer")&&i(e)}catch(e){}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(0);!function(e){e.Show="show",e.Hide="hide"}(r||(r={}));var i=function(){function e(e){this.isFirstTime=!0,this.enabled=!1,this.lastHandledTime=null,this.lastHandledTimeIndex=null,this.nextTimeToHandle=null,this.cuepointChanges=[],o.log("debug","CuepointEngine:ctor","executed"),this.cuepoints=e,this.prepareCuepoint()}return e.prototype.getSnapshot=function(e){var t=this.findClosestLastIndexByTime(e);return o.log("debug","CuepointEngine:getSnapshot","create snapshot based on time "+e,{timeIndex:t}),this.createCuepointSnapshot(t)},e.prototype.updateTime=function(e,t){void 0===t&&(t=!1);var n=this.isFirstTime,r=this.lastHandledTime,i=this.nextTimeToHandle;if(0===this.cuepointChanges.length)return n&&(o.log("log","CuepointEngine:updateTime","cuepoint list empty. will always return empty snapshot"),this.isFirstTime=!1),{snapshot:[]};var a=!n&&null!==r&&null!==i&&(r>e||e-i>2e3),s=n||null!==this.lastHandledTime&&this.lastHandledTime>e||null!=this.nextTimeToHandle&&e>=this.nextTimeToHandle,u=this.findClosestLastIndexByTime(e),l=u<0?0:this.cuepointChanges[u].time;if(!s)return t?{snapshot:this.createCuepointSnapshot(u)}:{delta:this.createEmptyDelta()};if(o.log("debug","CuepointEngine:updateTime","has changes to handle. check if need to return snapshot instead of delta based on provided new time",{currentTime:e,closestChangeIndex:u,closestChangeTime:l,lastHandledTime:r,nextTimeToHandle:i,isFirstTime:n}),n||t||a){o.log("debug","CuepointEngine:updateTime","some conditions doesn't allow returning delta, return snapshot instead",{isFirstTime:n,userSeeked:a,forceSnapshot:t});var p=this.createCuepointSnapshot(u);return this.updateInternals(l,u),{snapshot:p}}var c=this.createCuepointDelta(u);return this.updateInternals(l,u),{delta:c}},e.prototype.getCurrentCuepointSnapshot=function(){return this.lastHandledTimeIndex?this.createCuepointSnapshot(this.lastHandledTimeIndex):[]},e.prototype.createCuepointSnapshot=function(e){if(!this.enabled||e<0||!this.cuepointChanges||0===this.cuepointChanges.length)return o.log("log","CuepointEngine:createCuepointSnapshot","resulted with empty snapshot",{targetIndex:e,enabled:this.enabled,cuepointCount:(this.cuepointChanges||[]).length}),[];for(var t=[],n=0;n<=e;n++){var i=this.cuepointChanges[n],a=t.indexOf(i.cuePoint);i.type===r.Show?-1===a&&t.push(i.cuePoint):-1!==a&&t.splice(a,1)}return o.log("log","CuepointEngine:createCuepointSnapshot","resulted snapshot",{snapshot:t}),t},e.prototype.createCuepointDelta=function(e){if(!this.enabled||!this.cuepointChanges||0===this.cuepointChanges.length)return o.log("log","CuepointEngine:createCuepointDelta","resulted with empty delta",{enabled:this.enabled,cuepointCount:(this.cuepointChanges||[]).length}),this.createEmptyDelta();var t=this.lastHandledTimeIndex;if(null===t)return o.log("log","CuepointEngine:createCuepointDelta","invalid internal state. resulted with empty delta"),this.createEmptyDelta();var n=[],i=[];o.log("log","CuepointEngine:createCuepointDelta","find cuepoint that were added or removed");for(var a=t+1;a<=e;a++){var s=this.cuepointChanges[a],u=n.indexOf(s.cuePoint);s.type===r.Show?-1===u&&n.push(s.cuePoint):-1!==u?(o.log("log","CuepointEngine:createCuepointDelta","cuepoint was marked with type "+s.type+" at "+s.time+". remove from new cuepoint list as it wasn't visible yet",{cuepoint:s.cuePoint}),n.splice(u,1)):-1===i.indexOf(s.cuePoint)&&(o.log("log","CuepointEngine:createCuepointDelta","cuepoint was marked with type "+s.type+" at "+s.time+". add to removed cuepoint list",{cuepoint:s.cuePoint}),i.push(s.cuePoint))}return o.log("log","CuepointEngine:createCuepointDelta","resulted delta",{newCuepoint:n,removedCuepoint:i}),{show:n,hide:i}},e.prototype.updateInternals=function(e,t){var n=this.cuepointChanges;if(n&&0!==n.length){var r=t>=n.length-1,i=null===t;this.lastHandledTime=e,this.lastHandledTimeIndex=t,this.nextTimeToHandle=i?n[0].time:r?n[n.length-1].time:n[t+1].time,this.isFirstTime=!1,o.log("debug","CuepointEngine:updateInternals","update inner state with new time and index",{lastHandledTime:this.lastHandledTime,lastHandledTimeIndex:this.lastHandledTimeIndex,nextTimeToHandle:this.nextTimeToHandle})}},e.prototype.createEmptyDelta=function(){return{show:[],hide:[]}},e.prototype.binarySearch=function(e,t){if(!e||0===e.length)return null;if(t<e[0].time)return-1;if(t>e[e.length-1].time)return e.length-1;for(var n=0,r=e.length-1;n<=r;){var o=Math.floor((r+n+1)/2);if(t<e[o].time)r=o-1;else{if(!(t>e[o].time))return o;n=o+1}}return Math.min(n,r)},e.prototype.findClosestLastIndexByTime=function(e){var t=this.cuepointChanges,n=this.binarySearch(t,e);if(null===n)return-1;for(var r=t.length;n<r-1&&t[n+1].time===e;)n++;return n},e.prototype.prepareCuepoint=function(){var e=this;(this.cuepoints||[]).forEach(function(t){null!==t.startTime&&void 0!==t.startTime&&t.startTime>=0&&e.cuepointChanges.push({time:t.startTime,type:r.Show,cuePoint:t}),null!==t.endTime&&void 0!==t.endTime&&t.endTime>=0&&e.cuepointChanges.push({time:t.endTime,type:r.Hide,cuePoint:t})}),this.cuepointChanges.sort(function(e,t){return e.time<t.time?-1:e.time===t.time?0:1}),o.log("debug","CuepointEngine:prepareCuepoint","tracking "+this.cuepointChanges.length+" changes",this.cuepointChanges)},e}();t.CuepointEngine=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scaleVideo=function(e,t,n,r,o){var i={width:0,height:0,left:0,top:0,scaleToTargetWidth:!0};if(e<=0||t<=0||n<=0||r<=0)return i;var a=n,s=t*n/e,u=e*r/t,l=r,p=u>n;return(p=p?o:!o)?(i.width=Math.abs(a),i.height=Math.abs(s),i.scaleToTargetWidth=!0):(i.width=Math.abs(u),i.height=Math.abs(l),i.scaleToTargetWidth=!1),i.left=Math.abs((n-i.width)/2),i.top=Math.abs((r-i.height)/2),i}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(1)),r(n(4)),r(n(2)),r(n(0))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(0),s=n(2),u=n(1);!function(e){e.Show="show",e.Hide="hide"}(i||(i={}));var l=function(e){function t(t){var n=e.call(this,t)||this;return n.playerSize=null,n.videoSize=null,n}return o(t,e),t.prototype.updateLayout=function(e,t){return this.videoSize=t,this.playerSize=e,this.recalculateCuepointLayout(),this.getCurrentCuepointSnapshot()},t.prototype._calculateLayout=function(e,t){var n=e.rawLayout;return{x:t.left+n.relativeX*t.width,y:t.top+n.relativeY*t.height,width:n.relativeWidth*t.width,height:n.relativeHeight*t.height}},t.prototype.recalculateCuepointLayout=function(){var e=this;if(a.log("debug","CuepointLayoutEngine::recalculateCuepointLayout","calculating cuepoint layout based on video/player sizes"),!this.playerSize||!this.videoSize)return a.log("debug","CuepointLayoutEngine::recalculateCuepointLayout","missing video/player sizes, hide all cuepoint"),void(this.enabled=!1);var t=this.playerSize,n=t.width,r=t.height,o=this.videoSize,i=o.width,u=o.height;if(!(n&&r&&i&&u))return a.log("debug","CuepointLayoutEngine::recalculateCuepointLayout","missing video/player sizes, hide all cuepoint"),void(this.enabled=!1);var l=s.scaleVideo(i,u,n,r,!0);a.log("debug","CuepointLayoutEngine::recalculateCuepointLayout","recalculate cuepoint layout based on new sizes",l),(this.cuepoints||[]).forEach(function(t){t.layout=e._calculateLayout(t,l)}),this.enabled=!0},t}(u.CuepointEngine);t.CuepointLayoutEngine=l}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);r.__exportStar(n(27),t),r.__exportStar(n(6),t),r.__exportStar(n(31),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(4);t.KalturaClientException=o.KalturaClientException;var i=n(3);t.KalturaAPIException=i.KalturaAPIException;var a=n(14);t.KalturaMultiRequest=a.KalturaMultiRequest;var s=n(15);t.KalturaMultiResponse=s.KalturaMultiResponse;var u=n(5);t.KalturaRequest=u.KalturaRequest;var l=n(10);t.KalturaRequestBase=l.KalturaRequestBase;var p=n(17);t.KalturaUploadRequest=p.KalturaUploadRequest;var c=n(16);t.KalturaResponse=c.KalturaResponse;var d=n(1);t.KalturaTypesFactory=d.KalturaTypesFactory,r.__exportStar(n(12),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.fromServerDate=function(e){return e?new Date(1e3*e):null},e.toServerDate=function(e){return e?Math.round(e.getTime()/1e3):null},e.getStartDateValue=function(e){return e?(e.setHours(0),e.setMinutes(0),e.setSeconds(0),e):null},e.getEndDateValue=function(e){return e?(e.setHours(23),e.setMinutes(59),e.setSeconds(59),e):null},e}();t.KalturaClientUtils=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.info=0]="info",e[e.warn=1]="warn",e[e.error=2]="error",e[e.none=100]="none"}(r=t.LogLevels||(t.LogLevels={})),t.LoggerSettings={logLevel:r.warn};var o=function(){function e(e){this._name=e}return e.prototype.warn=function(e){t.LoggerSettings.logLevel<=r.warn&&console.warn("[kaltura-client/"+this._name+"]: "+e)},e.prototype.info=function(e){t.LoggerSettings.logLevel<=r.info&&console.info("[kaltura-client/"+this._name+"]: "+e)},e.prototype.error=function(e){t.LoggerSettings.logLevel<=r.error&&console.error("[kaltura-client/"+this._name+"]: "+e)},e}();t.KalturaLogger=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(1),i=function(e){function t(t){return e.call(this,t)||this}return r.__extends(t,e),t.prototype._getMetadata=function(){var t=e.prototype._getMetadata.call(this);return Object.assign(t.properties,{objectType:{type:"c",default:"KalturaBaseResponseProfile"}}),t},t}(n(2).KalturaObjectBase);t.KalturaBaseResponseProfile=i,o.KalturaTypesFactory.registerType("KalturaBaseResponseProfile",i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),o=n(14),i=n(32),a=n(17),s=n(33),u=n(34),l=n(35),p=n(4),c=n(36),d=n(12),f=n(6),y=function(){function e(e,t){this._options=e,this._defaultRequestOptions=new d.KalturaRequestOptions(t||{})}return e.prototype.appendOptions=function(e){if(!e)throw new p.KalturaClientException("client::append_options","missing required argument 'options'");this._options=Object.assign(this._options||{},e)},e.prototype.setOptions=function(e){if(!e)throw new p.KalturaClientException("client::set_options","missing required argument 'options'");this._options=e},e.prototype.appendDefaultRequestOptions=function(e){if(!e)throw new p.KalturaClientException("client::append_default_request_options","missing required argument 'args'");this._defaultRequestOptions=Object.assign(this._defaultRequestOptions||new d.KalturaRequestOptions,new d.KalturaRequestOptions(e))},e.prototype.setDefaultRequestOptions=function(e){if(!e)throw new p.KalturaClientException("client::set_default_request_options","missing required argument 'args'");this._defaultRequestOptions=new d.KalturaRequestOptions(e)},e.prototype._validateOptions=function(){return this._options?this._options.endpointUrl?this._options.clientTag?null:new p.KalturaClientException("client::missing_options","cannot transmit request, missing 'clientTag' in client options"):new p.KalturaClientException("client::missing_options","cannot transmit request, missing 'endpointUrl' in client options"):new p.KalturaClientException("client::missing_options","cannot transmit request, missing client options (did you forgot to provide options manually?)")},e.prototype.request=function(e){var t=this._validateOptions();return t?f.CancelableAction.reject(t):e instanceof i.KalturaFileRequest?(new u.KalturaFileRequestAdapter).transmit(e,this._options,this._defaultRequestOptions):e instanceof a.KalturaUploadRequest?new c.KalturaUploadRequestAdapter(this._options,this._defaultRequestOptions).transmit(e):e instanceof r.KalturaRequest?(new s.KalturaRequestAdapter).transmit(e,this._options,this._defaultRequestOptions):f.CancelableAction.reject(new p.KalturaClientException("client::request_type_error","unsupported request type requested"))},e.prototype.multiRequest=function(e){var t=this._validateOptions();if(t)return f.CancelableAction.reject(t);var n=e instanceof o.KalturaMultiRequest?e:e instanceof Array?new(o.KalturaMultiRequest.bind.apply(o.KalturaMultiRequest,[void 0].concat(e))):null;return n?n.requests.some(function(e){return e instanceof i.KalturaFileRequest})?f.CancelableAction.reject(new p.KalturaClientException("client::invalid_request","multi-request not support requests of type 'KalturaFileRequest', use regular request instead")):(new l.KalturaMultiRequestAdapter).transmit(n,this._options,this._defaultRequestOptions):f.CancelableAction.reject(new p.KalturaClientException("client::invalid_request","Expected argument of type Array or KalturaMultiRequest"))},e}();t.KalturaClient=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){function t(t){return e.call(this,t,{responseType:"v",responseSubType:"",responseConstructor:null})||this}return r.__extends(t,e),t}(n(5).KalturaRequest);t.KalturaFileRequest=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n(4),i=n(8),a=function(){function e(){}return e.prototype.transmit=function(e,t,n){var a=i.prepareParameters(e,t,n),s=i.createEndpoint(e,t,a.service,a.action);return delete a.service,delete a.action,i.createCancelableAction({endpoint:s,headers:i.getHeaders(),body:a}).then(function(t){try{var n=e.handleResponse(t);if(n.error)throw n.error;return n.result}catch(e){if(e instanceof o.KalturaClientException||e instanceof r.KalturaAPIException)throw e;var i=e instanceof Error?e.message:"string"==typeof e?e:null;throw new o.KalturaClientException("client::response-unknown-error",i||"Failed to parse response")}},function(e){var t=e instanceof Error?e.message:"string"==typeof e?e:null;throw new o.KalturaClientException("client::request-network-error",t||"Error connecting to server")})},e}();t.KalturaRequestAdapter=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),o=n(6),i=function(){function e(){}return e.prototype.transmit=function(e,t,n){var i=r.prepareParameters(e,t,n),a=r.createEndpoint(e,t,i.service,i.action);return delete i.service,delete i.action,o.CancelableAction.resolve({url:a+"?"+r.buildQuerystring(i)})},e}();t.KalturaFileRequestAdapter=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),o=n(3),i=n(4),a=function(){function e(){}return e.prototype.transmit=function(e,t,n){var a=r.prepareParameters(e,t,n),s=r.createEndpoint(e,t,a.service,a.action);return delete a.service,delete a.action,r.createCancelableAction({endpoint:s,headers:r.getHeaders(),body:a}).then(function(t){try{return e.handleResponse(t)}catch(e){if(e instanceof i.KalturaClientException||e instanceof o.KalturaAPIException)throw e;var n=e instanceof Error?e.message:"string"==typeof e?e:null;throw new i.KalturaClientException("client::multi-response-unknown-error",n||"Failed to parse response")}},function(e){var t=e instanceof Error?e.message:"string"==typeof e?e:null;throw new i.KalturaClientException("client::multi-request-network-error",t||"Error connecting to server")})},e}();t.KalturaMultiRequestAdapter=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),o=n(4),i=n(3),a=n(6),s=function(){function e(e,t){this.clientOptions=e,this.defaultRequestOptions=t}return e.prototype._chunkUploadSupported=function(e){var t=!("undefined"==typeof File||"undefined"==typeof Blob||"undefined"==typeof FileList||!Blob.prototype.webkitSlice&&!Blob.prototype.mozSlice&&!Blob.prototype.slice),n=e.supportChunkUpload();return!this.clientOptions.chunkFileDisabled&&t&&n},e.prototype.transmit=function(e){var t=this;return new a.CancelableAction(function(n,r,a){var s,u=!isNaN(e.uploadedFileSize)&&isFinite(e.uploadedFileSize)&&e.uploadedFileSize>0?e.uploadedFileSize:0,l={enabled:t._chunkUploadSupported(e),resume:!!u,finalChunk:!1,resumeAt:u},p=function(e){s=null,r(e)},c=function(a){if(!l.enabled||l.finalChunk){s=null;try{var u=e.handleResponse(a);u.error?r(u.error):n(u.result)}catch(e){if(e instanceof o.KalturaClientException||e instanceof i.KalturaAPIException)r(e);else{var d=e instanceof Error?e.message:"string"==typeof e?e:null;r(new o.KalturaClientException("client::response-unknown-error",d||"Failed to parse response"))}}}else s=t._chunkUpload(e,l).then(c,p)};return s=t._chunkUpload(e,l).then(c,p),function(){s&&(s.cancel(),s=null)}})},e.prototype._getFormData=function(e,t,n){var r=new FormData;return r.append("fileName",t),r.append(e,n),r},e.prototype._chunkUpload=function(e,t){var n=this;return new a.CancelableAction(function(i,a){var s=r.prepareParameters(e,n.clientOptions,n.defaultRequestOptions),u=!1,l=e.getFileInfo(),p=l.propertyName,c=l.file,d=n._getFormData(p,c.name,c),f=0;if(t.enabled){var y=null,h=n.clientOptions?n.clientOptions.chunkFileSize:null;h&&Number.isFinite(h)&&!Number.isNaN(h)?h<1e5?(console.warn("user requested for invalid upload chunk size '"+h+"'. minimal value 100Kb. using minimal value 100Kb instead"),y=1e5):(console.log("using user requetsed chunk size '"+h+"'"),y=h):(console.log("using default chunk size 5Mb"),y=5e6),t.finalChunk=c.size-t.resumeAt<=y,f=t.resumeAt;var _=t.finalChunk?c.size:f+y;d=n._getFormData(p,c.name,c.slice(f,_,c.type)),s.resume=t.resume,s.resumeAt=t.resumeAt,s.finalChunk=t.finalChunk}else console.log("chunk upload not supported by browser or by request. Uploading the file as-is");var v=r.createEndpoint(e,n.clientOptions,s.service,s.action);delete s.service,delete s.action,v=v+"?"+r.buildQuerystring(s);var g=new XMLHttpRequest;g.onreadystatechange=function(){if(4===g.readyState){if(u)return;u=!0;var e=void 0;try{e=200===g.status?JSON.parse(g.response):new o.KalturaClientException("client::upload-failure",g.responseText||"failed to upload file")}catch(t){e=new o.KalturaClientException("client::upload-failure",t.message||"failed to upload file")}if(e instanceof Error)a(e);else{if(t.enabled){if(void 0===e.uploadedFileSize||null===e.uploadedFileSize)return void a(new o.KalturaClientException("client::upload-failure","uploaded chunk of file failed, expected response with property 'uploadedFileSize'"));t.finalChunk||(t.resumeAt=Number(e.uploadedFileSize),t.resume=!0)}i(e)}}};var b=e._getProgressCallback();return b&&g.upload.addEventListener("progress",function(t){t.lengthComputable&&b.apply(e,[t.loaded+f,c.size])},!1),g.open("POST",v),g.send(d),function(){u||(u=!0,g.abort())}})},e}();t.KalturaUploadRequestAdapter=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(38),i=n(20),a=n(44),s=function(e){function t(t){return e.call(this,t,{responseType:"o",responseSubType:"KalturaCuePointListResponse",responseConstructor:o.KalturaCuePointListResponse})||this}return r.__extends(t,e),t.prototype._getMetadata=function(){var t=e.prototype._getMetadata.call(this);return Object.assign(t.properties,{service:{type:"c",default:"cuepoint_cuepoint"},action:{type:"c",default:"list"},filter:{type:"o",subTypeConstructor:i.KalturaCuePointFilter,subType:"KalturaCuePointFilter"},pager:{type:"o",subTypeConstructor:a.KalturaFilterPager,subType:"KalturaFilterPager"}}),t},t}(n(5).KalturaRequest);t.CuePointListAction=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(1),i=n(18),a=function(e){function t(t){var n=e.call(this,t)||this;return void 0===n.objects&&(n.objects=[]),n}return r.__extends(t,e),t.prototype._getMetadata=function(){var t=e.prototype._getMetadata.call(this);return Object.assign(t.properties,{objectType:{type:"c",default:"KalturaCuePointListResponse"},objects:{type:"a",readOnly:!0,subTypeConstructor:i.KalturaCuePoint,subType:"KalturaCuePoint"}}),t},t}(n(39).KalturaListResponse);t.KalturaCuePointListResponse=a,o.KalturaTypesFactory.registerType("KalturaCuePointListResponse",a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(1),i=function(e){function t(t){return e.call(this,t)||this}return r.__extends(t,e),t.prototype._getMetadata=function(){var t=e.prototype._getMetadata.call(this);return Object.assign(t.properties,{objectType:{type:"c",default:"KalturaListResponse"},totalCount:{type:"n",readOnly:!0}}),t},t}(n(2).KalturaObjectBase);t.KalturaListResponse=i,o.KalturaTypesFactory.registerType("KalturaListResponse",i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(1),i=n(13),a=n(19),s=n(9),u=function(e){function t(t){return e.call(this,t)||this}return r.__extends(t,e),t.prototype._getMetadata=function(){var t=e.prototype._getMetadata.call(this);return Object.assign(t.properties,{objectType:{type:"c",default:"KalturaCuePointBaseFilter"},idEqual:{type:"s"},idIn:{type:"s"},cuePointTypeEqual:{type:"es",subTypeConstructor:i.KalturaCuePointType,subType:"KalturaCuePointType"},cuePointTypeIn:{type:"s"},statusEqual:{type:"en",subTypeConstructor:a.KalturaCuePointStatus,subType:"KalturaCuePointStatus"},statusIn:{type:"s"},entryIdEqual:{type:"s"},entryIdIn:{type:"s"},createdAtGreaterThanOrEqual:{type:"d"},createdAtLessThanOrEqual:{type:"d"},updatedAtGreaterThanOrEqual:{type:"d"},updatedAtLessThanOrEqual:{type:"d"},triggeredAtGreaterThanOrEqual:{type:"d"},triggeredAtLessThanOrEqual:{type:"d"},tagsLike:{type:"s"},tagsMultiLikeOr:{type:"s"},tagsMultiLikeAnd:{type:"s"},startTimeGreaterThanOrEqual:{type:"n"},startTimeLessThanOrEqual:{type:"n"},userIdEqual:{type:"s"},userIdIn:{type:"s"},partnerSortValueEqual:{type:"n"},partnerSortValueIn:{type:"s"},partnerSortValueGreaterThanOrEqual:{type:"n"},partnerSortValueLessThanOrEqual:{type:"n"},forceStopEqual:{type:"en",subTypeConstructor:s.KalturaNullableBoolean,subType:"KalturaNullableBoolean"},systemNameEqual:{type:"s"},systemNameIn:{type:"s"}}),t},t}(n(41).KalturaRelatedFilter);t.KalturaCuePointBaseFilter=u,o.KalturaTypesFactory.registerType("KalturaCuePointBaseFilter",u)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(1),i=function(e){function t(t){return e.call(this,t)||this}return r.__extends(t,e),t.prototype._getMetadata=function(){var t=e.prototype._getMetadata.call(this);return Object.assign(t.properties,{objectType:{type:"c",default:"KalturaRelatedFilter"}}),t},t}(n(42).KalturaFilter);t.KalturaRelatedFilter=i,o.KalturaTypesFactory.registerType("KalturaRelatedFilter",i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(1),i=n(43),a=function(e){function t(t){return e.call(this,t)||this}return r.__extends(t,e),t.prototype._getMetadata=function(){var t=e.prototype._getMetadata.call(this);return Object.assign(t.properties,{objectType:{type:"c",default:"KalturaFilter"},orderBy:{type:"s"},advancedSearch:{type:"o",subTypeConstructor:i.KalturaSearchItem,subType:"KalturaSearchItem"}}),t},t}(n(2).KalturaObjectBase);t.KalturaFilter=a,o.KalturaTypesFactory.registerType("KalturaFilter",a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(1),i=function(e){function t(t){return e.call(this,t)||this}return r.__extends(t,e),t.prototype._getMetadata=function(){var t=e.prototype._getMetadata.call(this);return Object.assign(t.properties,{objectType:{type:"c",default:"KalturaSearchItem"}}),t},t}(n(2).KalturaObjectBase);t.KalturaSearchItem=i,o.KalturaTypesFactory.registerType("KalturaSearchItem",i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(1),i=function(e){function t(t){return e.call(this,t)||this}return r.__extends(t,e),t.prototype._getMetadata=function(){var t=e.prototype._getMetadata.call(this);return Object.assign(t.properties,{objectType:{type:"c",default:"KalturaFilterPager"}}),t},t}(n(45).KalturaPager);t.KalturaFilterPager=i,o.KalturaTypesFactory.registerType("KalturaFilterPager",i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(1),i=function(e){function t(t){return e.call(this,t)||this}return r.__extends(t,e),t.prototype._getMetadata=function(){var t=e.prototype._getMetadata.call(this);return Object.assign(t.properties,{objectType:{type:"c",default:"KalturaPager"},pageSize:{type:"n"},pageIndex:{type:"n"}}),t},t}(n(2).KalturaObjectBase);t.KalturaPager=i,o.KalturaTypesFactory.registerType("KalturaPager",i)},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.convertToHotspots=function(e){var t=[];return(e.objects||[]).forEach(function(e){var n=function(e,t){if(void 0===t&&(t={}),!e)return t;try{return{result:JSON.parse(e)}}catch(e){return{error:e}}}(e.partnerData),o=n.result;if(n.error,o&&o.schemaVersion){var i=r({},o.layout);t.push({id:e.id,startTime:e.startTime,endTime:e.endTime,label:e.text,styles:o.styles,onClick:o.onClick,rawLayout:i})}}),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(1),i=n(9),a=function(e){function t(t){return e.call(this,t)||this}return r.__extends(t,e),t.prototype._getMetadata=function(){var t=e.prototype._getMetadata.call(this);return Object.assign(t.properties,{objectType:{type:"c",default:"KalturaAnnotation"},parentId:{type:"s"},text:{type:"s"},endTime:{type:"n"},duration:{type:"n",readOnly:!0},depth:{type:"n",readOnly:!0},childrenCount:{type:"n",readOnly:!0},directChildrenCount:{type:"n",readOnly:!0},isPublic:{type:"en",subTypeConstructor:i.KalturaNullableBoolean,subType:"KalturaNullableBoolean"},searchableOnEntry:{type:"en",subTypeConstructor:i.KalturaNullableBoolean,subType:"KalturaNullableBoolean"}}),t},t}(n(18).KalturaCuePoint);t.KalturaAnnotation=a,o.KalturaTypesFactory.registerType("KalturaAnnotation",a)},function(e,t,n){var r;window,e.exports=(r=n(7),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this._items=[],this._plugin=e.plugin}return e.prototype.add=function(e){return e.setPlugin(this._plugin),this._items.push(e),e},e.prototype.reset=function(){this._items.forEach(function(e){try{e.destroy()}catch(e){console.warn(e)}}),this._items=[]},e}();t.UIManager=r},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(2)),r(n(3)),r(n(4)),r(n(0))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=function(e){function t(t,n,r){var o=e.call(this,t,n,r)||this;return o._uiManager=new i.UIManager({plugin:o}),o}return o(t,e),t.isValid=function(e){return!0},t.prototype.loadMedia=function(){this._onAddOverlays(this._uiManager),this._onAddBindings(this.eventManager)},t.prototype.getUIManager=function(){return this._uiManager},t.prototype.destroy=function(){this.eventManager.removeAll(),this.eventManager.destroy(),this._onResetState()},t.prototype.reset=function(){this.eventManager.removeAll(),this._uiManager.reset(),this._onInitMembers()},t.prototype._sendAnalytics=function(){throw new Error("tbd")},t.prototype.getServiceUrl=function(){return this.player.config.provider.env.serviceUrl},t.prototype.getEntryId=function(){return this.player.config.sources.id},t.prototype.getPartnerId=function(){return this.player.config.session.partnerId},t.prototype.getKS=function(){return this.player.config.session.ks},t.defaultConfig={},t}(KalturaPlayer.core.BasePlugin);t.OVPBasePlugin=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.HotspotStage=10]="HotspotStage"}(t.OverlayPriorities||(t.OverlayPriorities={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(5);!function(e){e[e.MediaLoaded=0]="MediaLoaded",e[e.OnDemand=1]="OnDemand",e[e.FirstPlay=2]="FirstPlay"}(r=t.OverlayUIModes||(t.OverlayUIModes={}));var i=function(){function e(e){var t=this;this._rootRef=null,this._destroyed=!1,this.setRef=function(e){return t._rootRef=e},this._updateRoot=function(e){var n=e.shouldHandleResize;if(t._root){var r=t.getRendererProps({shouldHandleResize:n}),i=t._options.renderer(t.setRef,r);t._root=o.render(i,t._rootParent,t._root)}},this._createRoot=function(){if(t._destroyed)throw new Error("item was destroyed, cannot create root");if(!t._root){var e=t._player.config.targetId,n=document.querySelector("div#"+e+" div#player-gui");if(n){t._rootParent=document.createElement("div"),t._rootParent.setAttribute("id",t._plugin.name+"Overlay"),t._options.className&&t._rootParent.setAttribute("class",t._options.className),n.append(t._rootParent);var r=t.getRendererProps({shouldHandleResize:!1});t._root=o.render(t._options.renderer(t.setRef,r),t._rootParent)}}},this._options=e}return e.prototype.setPlugin=function(e){this._plugin=e,this._player=e.player,this._addPlayerBindings()},e.prototype.rebuild=function(){this._updateRoot({shouldHandleResize:!1})},Object.defineProperty(e.prototype,"root",{get:function(){return this._rootRef},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._destroyed=!0,this._root&&(o.render(o.h(null),this._rootParent,this._root),this._root=null)},e.prototype._addPlayerBindings=function(){var e=this,t=this._plugin.eventManager;this._options.mode===r.MediaLoaded&&t.listenOnce(this._player,this._player.Event.MEDIA_LOADED,this._createRoot),this._options.mode===r.FirstPlay&&(t.listenOnce(this._player,this._player.Event.FIRST_PLAY,this._createRoot),t.listenOnce(this._player,this._player.Event.SEEKED,this._createRoot)),t.listen(this._player,this._player.Event.TIME_UPDATE,function(){e._updateRoot({shouldHandleResize:!1})}),t.listen(this._player,"resize",function(){e._updateRoot({shouldHandleResize:!0})})},e.prototype.getRendererProps=function(e){return{currentTime:void 0!==e.currentTime?e.currentTime:1e3*this._player.currentTime,shouldHandleResize:e.shouldHandleResize||!1}},e}();t.OverlayUI=i},function(e,t){e.exports=r}]))}])});
//# sourceMappingURL=playkit-js-hotspots.js.map